<html>

<head>
    <title>tjsViewer</title>
    <!--
        https://codepen.io/blikblum/pen/gJNWMg
        include jquery from cdn

    -->
    <script src="js/pdfkit.standalone.js"></script>
    <script src="js/blob-stream.js"></script>
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/Flexagon.js"></script>
    <script src="js/PDFViewer.js"></script>
    <script src="js/SVGViewer.js"></script>

    <script type="importmap">
        {
          "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.164.1/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.164.1/examples/jsm/"
          }
        }
    </script>

    <script type="module" src="js/ThreeJSViewer.js"></script>
    </script>
    <style>
        #gui {
            position: absolute;
            top: 250px;
            zzleft: 2px
        }

        #logdiv {
            display: none;
            xdisplay: inline-block;
            xborder-style: solid;
            xborder-width: 2px;
            xwidth: 100%;
            height: 100px;
            resize: vertical;
            overflow: scroll;
            xvertical-align: top;
        }
    </style>
</head>

<body>
    <div>
        <h3>Flex Play Tool</h3>
        <div style="border-style: solid; border-width: 1; padding: 4px;">
            <button onclick="download()">Download</button>
            &nbsp;
            <select id="sheet">
            </select>
            &nbsp;
            <select id="paperSize">
                <option value="LETTER">Letter</option>
                <option value="TABLOID">Tabloid</option>
                <option value="LEGAL">Legal</option>
            </select>
            &nbsp;
            <input type="checkbox" id="showLabels" checked> Labels
            &nbsp;
            <input type="checkbox" id="showLattice"> Lattice
            &nbsp;
            <input type="checkbox" id="showLog"> Log
            &nbsp;
            <input type="text" id="defstr" value="LRLR">
            &nbsp;
            <button id="runButton" onclick="startAnim()">Run</button>
            &nbsp;&nbsp;
            <span id="faceInfo">face-info</span>
            &nbsp;&nbsp;
            <span id="mouseInfo">mouse-info</span>
        </div>
        <div id="logdiv">Log info:<br></div>
        <div id="viewWin" style="width: 500px;">
            <div id="threeJSView">
                <h3>3D View</h3>
                <div id="container">
                </div>
            </div>
        </div>
    </div>
    <div>
        debug info region
    </div>

    <script>

        function showMouseInfo(evt) {
            svgViewer.showMouseInfo(evt);
        }

        function startAnim() {
            console.log("startAnim");
            if (tjs.running) {
                $('#runButton').html('Run');
                tjs.stop();
                return;
            }
            $('#runButton').html('Stop');
            tjs.run();
        }


        $(document).ready(function () {
            threeJSViewer = new ThreeJSViewer();
            window.tjs = threeJSViewer;
            init();
            draw();
            tjs.addMobius();
        });
    </script>
</body>

</html>